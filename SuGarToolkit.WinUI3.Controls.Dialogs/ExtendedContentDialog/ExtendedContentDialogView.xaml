<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SuGarToolkit.WinUI3.Controls.Dialogs">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/SuGarToolkit.WinUI3.Controls.Dialogs/ContentDialog/ContentDialogView_themeresources.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <Thickness x:Key="ExtendedContentDialogViewHeaderPadding">24,16,24,12</Thickness>

    <Style x:Key="ExtendedContentDialogViewDefaultStyle" TargetType="local:ExtendedContentDialogView">
        <Setter Property="ExtendedHeaderBackground" Value="{ThemeResource LayerOnMicaBaseAltFillColorSecondaryBrush}" />
        <Setter Property="DefaultButton" Value="Primary" />
        <Setter Property="PrimaryButtonStyle" Value="{ThemeResource DefaultButtonStyle}" />
        <Setter Property="SecondaryButtonStyle" Value="{ThemeResource DefaultButtonStyle}" />
        <Setter Property="CloseButtonStyle" Value="{ThemeResource DefaultButtonStyle}" />
        <!--<Setter Property="MaxWidth" Value="{ThemeResource ContentDialogMaxWidth}" />-->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:ExtendedContentDialogView">
                    <Grid
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Border
                            x:Name="PART_ExtendedHeaderArea"
                            Grid.Row="0"
                            Padding="{ThemeResource ExtendedContentDialogViewHeaderPadding}"
                            Background="{TemplateBinding ExtendedHeaderBackground}"
                            BorderBrush="{ThemeResource ContentDialogViewSeparatorBorderBrush}"
                            BorderThickness="{ThemeResource ContentDialogSeparatorThickness}">
                            <ContentControl
                                x:Name="PART_ExtendedHeader"
                                Content="{TemplateBinding ExtendedHeader}"
                                ContentTemplate="{TemplateBinding ExtendedHeaderTemplate}"
                                FontFamily="{ThemeResource ContentControlThemeFontFamily}"
                                Foreground="{TemplateBinding Foreground}"
                                IsTabStop="True">
                                <ContentControl.Template>
                                    <ControlTemplate TargetType="ContentControl">
                                        <ContentPresenter
                                            Margin="{TemplateBinding Padding}"
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                            Background="{TemplateBinding Background}"
                                            Content="{TemplateBinding Content}"
                                            ContentTemplate="{TemplateBinding ContentTemplate}"
                                            ContentTransitions="{TemplateBinding ContentTransitions}"
                                            MaxLines="3"
                                            TextWrapping="Wrap" />
                                    </ControlTemplate>
                                </ContentControl.Template>
                            </ContentControl>
                        </Border>

                        <local:ContentDialogView
                            x:Name="PART_ContentDialogView"
                            Grid.Row="1"
                            ButtonOrientation="{TemplateBinding ButtonOrientation}"
                            CloseButtonAccessKey="{TemplateBinding CloseButtonAccessKey}"
                            CloseButtonCommand="{TemplateBinding CloseButtonCommand}"
                            CloseButtonContent="{TemplateBinding CloseButtonContent}"
                            CloseButtonStyle="{TemplateBinding CloseButtonStyle}"
                            CloseButtonTemplate="{TemplateBinding CloseButtonTemplate}"
                            Content="{TemplateBinding Content}"
                            ContentTemplate="{TemplateBinding ContentTemplate}"
                            DefaultButton="{TemplateBinding DefaultButton}"
                            Header="{TemplateBinding Header}"
                            HeaderTemplate="{TemplateBinding HeaderTemplate}"
                            IsPrimaryButtonEnabled="{TemplateBinding IsPrimaryButtonEnabled}"
                            IsSecondaryButtonEnabled="{TemplateBinding IsSecondaryButtonEnabled}"
                            PrimaryButtonAccessKey="{TemplateBinding PrimaryButtonAccessKey}"
                            PrimaryButtonCommand="{TemplateBinding PrimaryButtonCommand}"
                            PrimaryButtonContent="{TemplateBinding PrimaryButtonContent}"
                            PrimaryButtonStyle="{TemplateBinding PrimaryButtonStyle}"
                            PrimaryButtonTemplate="{TemplateBinding PrimaryButtonTemplate}"
                            SecondaryButtonAccessKey="{TemplateBinding SecondaryButtonAccessKey}"
                            SecondaryButtonCommand="{TemplateBinding SecondaryButtonCommand}"
                            SecondaryButtonContent="{TemplateBinding SecondaryButtonContent}"
                            SecondaryButtonStyle="{TemplateBinding SecondaryButtonStyle}"
                            SecondaryButtonTemplate="{TemplateBinding SecondaryButtonTemplate}" />

                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ExtendedHeaderVisibilityStates">
                                <VisualState x:Name="ExtendedHeaderVisibile" />
                                <VisualState x:Name="ExtendedHeaderCollapsed">
                                    <VisualState.Setters>
                                        <Setter Target="PART_ExtendedHeaderArea.Visibility" Value="Collapsed" />
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource ExtendedContentDialogViewDefaultStyle}" TargetType="local:ExtendedContentDialogView" />

</ResourceDictionary>
