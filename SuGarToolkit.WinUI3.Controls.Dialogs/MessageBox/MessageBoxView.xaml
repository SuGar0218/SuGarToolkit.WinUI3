<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SuGarToolkit.WinUI3.Controls.Dialogs">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/SuGarToolkit.WinUI3.Controls.Dialogs/MessageBox/MessageBoxView_themeresources.xaml" />
        <ResourceDictionary Source="/SuGarToolkit.WinUI3.Controls.Dialogs/UacStyleDialog/UacStyleDialogView.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <local:MessageBoxDefaultButtonToContentDialogButtonConverter x:Key="MessageBoxDefaultButtonToContentDialogButtonConverter" />

    <Style TargetType="local:MessageBoxView">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:MessageBoxView">
                    <local:UacStyleDialogView
                        x:Name="PART_UacStyleDialogView"
                        MaxWidth="{ThemeResource ContentDialogMaxWidth}"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        DefaultButton="{Binding DefaultButton, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={ThemeResource MessageBoxDefaultButtonToContentDialogButtonConverter}}"
                        ExtendedHeader="{TemplateBinding Title}">
                        <local:UacStyleDialogView.Resources>
                            <SolidColorBrush x:Key="TextBoxBackgroundThemeBrush" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBackground" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBackgroundPointerOver" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBackgroundFocused" Color="Transparent" />
                            <SolidColorBrush x:Key="TextBoxBorderThemeBrush" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBorderBrush" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBorderBrushPointerOver" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBorderBrushFocused" Color="Transparent" />
                            <SolidColorBrush x:Key="TextControlBorderBrushDisabled" Color="Transparent" />
                            <x:Double x:Key="TextControlThemeMinHeight">0</x:Double>

                            <Style x:Key="MinimalTextBoxStyle" TargetType="TextBox">
                                <Setter Property="AcceptsReturn" Value="True" />
                                <Setter Property="Margin" Value="0" />
                                <Setter Property="Padding" Value="0" />
                                <Setter Property="BorderThickness" Value="0" />
                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                <Setter Property="Background" Value="Transparent" />
                                <Setter Property="MinWidth" Value="0" />
                                <Setter Property="MinHeight" Value="0" />
                                <Setter Property="TextWrapping" Value="Wrap" />
                            </Style>
                        </local:UacStyleDialogView.Resources>

                        <local:UacStyleDialogView.ExtendedHeaderTemplate>
                            <DataTemplate>
                                <TextBlock
                                    Margin="0,8,0,0"
                                    HorizontalAlignment="Stretch"
                                    FontSize="20"
                                    FontWeight="SemiBold"
                                    Text="{Binding}"
                                    TextWrapping="Wrap" />
                            </DataTemplate>
                        </local:UacStyleDialogView.ExtendedHeaderTemplate>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Grid
                                x:Name="IconArea"
                                Grid.Column="0"
                                VerticalAlignment="Top">
                                <TextBlock
                                    x:Name="IconBackground"
                                    Margin="{ThemeResource MessageBoxIconMargin}"
                                    AutomationProperties.AccessibilityView="Raw"
                                    FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                    FontSize="{ThemeResource MessageBoxIconFontSize}"
                                    Foreground="{ThemeResource MessageBoxInformationalSeverityIconBackground}"
                                    Text="{ThemeResource MessageBoxIconBackgroundGlyph}" />

                                <TextBlock
                                    x:Name="StandardIcon"
                                    Margin="{ThemeResource MessageBoxIconMargin}"
                                    FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                    FontSize="{ThemeResource MessageBoxIconFontSize}"
                                    Foreground="{ThemeResource MessageBoxInformationalSeverityIconForeground}"
                                    Text="{ThemeResource MessageBoxInformationalIconGlyph}" />
                            </Grid>

                            <TextBox
                                Grid.Column="1"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                AcceptsReturn="True"
                                IsReadOnly="True"
                                Style="{StaticResource MinimalTextBoxStyle}"
                                Text="{TemplateBinding Message}" />
                        </Grid>

                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="IconStates">
                                <VisualState x:Name="None">
                                    <VisualState.Setters>
                                        <Setter Target="IconArea.Visibility" Value="Collapsed" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Information">
                                    <VisualState.Setters>
                                        <Setter Target="IconBackground.Foreground" Value="{ThemeResource MessageBoxInformationalSeverityIconBackground}" />
                                        <Setter Target="StandardIcon.Text" Value="{ThemeResource MessageBoxInformationalIconGlyph}" />
                                        <Setter Target="StandardIcon.Foreground" Value="{ThemeResource MessageBoxInformationalSeverityIconForeground}" />
                                        <Setter Target="PART_UacStyleDialogView.Style" Value="{ThemeResource UacStyleDialogViewInformationalSeverityStyle}" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Question">
                                    <VisualState.Setters>
                                        <Setter Target="IconBackground.Foreground" Value="{ThemeResource MessageBoxQuestionalSeverityIconBackground}" />
                                        <Setter Target="StandardIcon.Text" Value="{ThemeResource MessageBoxQuestionalIconGlyph}" />
                                        <Setter Target="StandardIcon.Foreground" Value="{ThemeResource MessageBoxQuestionalSeverityIconForeground}" />
                                        <Setter Target="PART_UacStyleDialogView.Style" Value="{ThemeResource UacStyleDialogViewInformationalSeverityStyle}" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Error">
                                    <VisualState.Setters>
                                        <Setter Target="IconBackground.Foreground" Value="{ThemeResource MessageBoxErrorSeverityIconBackground}" />
                                        <Setter Target="StandardIcon.Text" Value="{ThemeResource MessageBoxErrorIconGlyph}" />
                                        <Setter Target="StandardIcon.Foreground" Value="{ThemeResource MessageBoxErrorSeverityIconForeground}" />
                                        <Setter Target="PART_UacStyleDialogView.Style" Value="{ThemeResource UacStyleDialogViewErrorSeverityStyle}" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Warning">
                                    <VisualState.Setters>
                                        <Setter Target="IconBackground.Text" Value="{ThemeResource MessageBoxWarningBackgroundGlyph}" />
                                        <Setter Target="IconBackground.Foreground" Value="{ThemeResource MessageBoxWarningSeverityIconBackground}" />
                                        <Setter Target="StandardIcon.Text" Value="{ThemeResource MessageBoxWarningIconGlyph}" />
                                        <Setter Target="StandardIcon.Foreground" Value="{ThemeResource MessageBoxWarningSeverityIconForeground}" />
                                        <Setter Target="PART_UacStyleDialogView.Style" Value="{ThemeResource UacStyleDialogViewWarningSeverityStyle}" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Success">
                                    <VisualState.Setters>
                                        <Setter Target="IconBackground.Foreground" Value="{ThemeResource MessageBoxSuccessSeverityIconBackground}" />
                                        <Setter Target="StandardIcon.Text" Value="{ThemeResource MessageBoxSuccessIconGlyph}" />
                                        <Setter Target="StandardIcon.Foreground" Value="{ThemeResource MessageBoxSuccessSeverityIconForeground}" />
                                        <Setter Target="PART_UacStyleDialogView.Style" Value="{ThemeResource UacStyleDialogViewSuccessSeverityStyle}" />
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </local:UacStyleDialogView>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
